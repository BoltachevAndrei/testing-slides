<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>Integration</title>

    <link rel="stylesheet" href="../css/reveal.css">
    <link rel="stylesheet" href="../css/theme/white.css">
    <link rel="stylesheet" href="../css/user.css">
    <link rel="stylesheet" href="../css/tomorrow.css">
</head>
<body>
<div class="reveal">
    <div class="slides">

        <section>
            <h1>–ê–≤—Ç–æ—Ç–µ—Å—Ç—ã</h1>
            <p>–ü–æ–¥–º–µ–Ω—ã. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–µ–º. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ</p>
            <p class="author">–ñ–∏–≥–∞–ª–æ–≤ –°–µ—Ä–≥–µ–π</p>
        </section>

        <section>
            <section>
                <h2>spy</h2>
            </section>

            <section>
                <h3>spy</h3>
                <blockquote>
                    —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–æ—è –∑–∞–ø–æ–º–∏–Ω–∞–µ—Ç –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≤—ã–∑–æ–≤–∞:
                    —Å –∫–∞–∫–∏–º–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ –µ—ë –≤—ã–∑–≤–∞–ª–∏, –∫–∞–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤–µ—Ä–Ω—É–ª–∏
                    –∏ –ø—Ä–æ–∏–∑–æ—à–ª–æ –ª–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ.
                </blockquote>
            </section>

            <section>
                <h3>–ü—Ä–∏–º–µ—Ä</h3>
                <pre class="js size-XS"><code data-trim>
const getTweets = require('./getTweets');

function showTweets() {
    const tweets = getTweets('#urfu-testing-2017');

    tweets.forEach(tweet => console.log(tweet.text));
};
                </code></pre>
            </section>

            <section>
                <h3>–¢–µ—Å—Ç</h3>
                <pre class="js size-S"><code data-trim data-noescape>
const sinon = require('sinon');

describe('showTweets', () => {
    <span class="fragment">beforeEach(() => {
        sinon.spy(console, 'log');
    });</span>

    <span class="fragment">afterEach(() => {
        console.log.restore();
    });</span>

    <span class="fragment">/* ... */</span>
});
                </code></pre>
            </section>

            <section>
                <h3>–¢–µ—Å—Ç</h3>
                <pre class="js size-XS"><code data-trim data-noescape>
describe('showTweets', () => {
    /* ... */

    it('should print tweet text', () => {
        showTweets();

        <span class="fragment">assert.equal(console.log.callCount, 2);</span>
        <span class="fragment">assert.deepEqual(
            console.log.getCall(0).args,
            ['–î–ª—è –ø–æ–¥–º–µ–Ω—ã —Å–µ—Ç–µ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ ...']
        );</span>
    });
});
                </code></pre>
            </section>

            <section>
                <blockquote>
                    –§—É–Ω–∫—Ü–∏–∏-—à–ø–∏–æ–Ω—ã –Ω–µ —Ç–æ–ª—å–∫–æ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç –ø—Ä–µ–∂–Ω–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ,
                    –Ω–æ –ø–æ–∑–≤–æ–ª—è—é—Ç —É–∑–Ω–∞—Ç—å –∫–∞–∫ —ç—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –≤—ã–∑–≤–∞–ª–∏.
                </blockquote>
            </section>

            <section>
                <h3>–ö–æ–Ω—Ç–µ–∫—Å—Ç</h3>
                <pre class="js size-XS"><code data-trim data-noescape>
it('spy ordering', () => {
    const first = sinon.spy();
    const second = sinon.spy();
    const third = sinon.spy();

    <span class="fragment">first();
    second();
    third();</span>

    <span class="fragment">assert(first.calledBefore(third));
    assert(first.calledImmediatelyBefore(second));</span>
});
                </code></pre>
            </section>
        </section>

        <section>
            <section data-background-image="images/time.jpg">
                <h3 class="paranja">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–µ–º</h3>
            </section>

            <section>
                <h3>–ë–æ–Ω—É—Å–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ</h3>
                <blockquote>
                    ... –°–¥–µ–ª–∞—Ç—å –∏–∑ —Ç–≤–∏—Ç–æ–≤ –±–µ–≥—É—â—É—é —Å—Ç—Ä–æ–∫—É. –î–ª—è —ç—Ç–æ–≥–æ –Ω—É–∂–Ω–æ –≤—ã–≤–æ–¥–∏—Ç—å –Ω–∞
                    –∫–æ–Ω—Å–æ–ª—å –ø–æ –æ–¥–Ω–æ–º—É —Å–∏–º–≤–æ–ª—É —Ä–∞–∑ –≤ 100ms.
                </blockquote>
            </section>

            <section>
                <h3 style="text-transform: none;">setTimeout</h3>
                <pre class="js"><code data-trim>
setTimeout(() => {
    console.log('–ü—Ä–æ—à–ª–∞ —Å–µ–∫—É–Ω–¥–∞');
}, 1000);
        </code></pre>
            </section>

            <section>
                <h3 style="text-transform: none;">console.log</h3>
                <pre class="js"><code data-trim>
console.log('–î–ª–∏–Ω–Ω–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ');
console.log('–≤ –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É.');
                </code></pre>
                <pre class="console fragment"><code data-trim>
–î–ª–∏–Ω–Ω–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ
–≤ –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É.
                </code></pre>
                <div class="fragment" style="font-size: 100px">üëé</div>
            </section>

            <section>
                <h3 style="text-transform: none;">process.stdout.write</h3>
                <pre class="js"><code data-trim>
process.stdout.write('–û–¥–Ω–æ');
process.stdout.write('—Å—Ç—Ä–æ—á–Ω—ã–π');
                </code></pre>
                <pre class="console fragment"><code data-trim>
–û–¥–Ω–æ—Å—Ç—Ä–æ—á–Ω—ã–π
                </code></pre>
                <div class="fragment" style="font-size: 100px">üëç</div>
            </section>

            <section>
                <h3>–†–µ—à–µ–Ω–∏–µ</h3>
                <pre class="js size-XS"><code data-trim data-noescape>
function crawlLine(text, cb) {
    <span class="fragment">const letters = text.split('');</span>

    <span class="fragment">function print() {
        if (!letters.length) return cb();

        process.stdout.write(letters.shift());
        setTimeout(print, 100);
    }</span>

    <span class="fragment">print();</span>
}
                </code></pre>
            </section>

            <section>
                <h3>–¢–µ—Å—Ç</h3>
                <pre class="js size-S"><code data-trim>
describe('crawlLine', () => {
    beforeEach(() => {
        sinon.spy(process.stdout, 'write');
    });

    afterEach(() => {
        process.stdout.write.restore();
    });

    /* ... */
});
                </code></pre>
            </section>

            <section>
                <h3>–¢–µ—Å—Ç</h3>
                <pre class="js size-XS"><code data-trim>
describe('crawlLine', () => {
    /* ... */

    it('should print letters one by one', () => {
        crawlLine('I don‚Äôt always bend time and ' +
            'space in unit tests, but when I do, ' +
            'I use Buster.JS + Sinon.JS');
        assert.equal(process.stdout.write.callCount, 91);
    });
});
                </code></pre>
            </section>

            <section
                    data-background-image="images/crawlLine_test_failed_1.png"
                    data-background-size="contain"
            ></section>

            <section>
                <blockquote>
                    <code>cb</code> –±—É–¥–µ—Ç –≤—ã–∑–≤–∞–Ω,
                    –∫–æ–≥–¥–∞ —Ä–∞–±–æ—Ç–∞ —Ñ—É–Ω–∫—Ü–∏–∏ –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è.
                </blockquote>
            </section>

            <section>
                <h3>–¢–µ—Å—Ç</h3>
                <pre class="js size-XS"><code data-trim>
it('should print letters one by one', () => {
    crawlLine('I don‚Äôt always bend time and ' +
        'space in unit tests, but when I do, ' +
        'I use Buster.JS + Sinon.JS', () => {
        assert.equal(process.stdout.write.callCount, 91);
    });
});
                </code></pre>
            </section>

            <section
                    data-background-image="images/crawlLine_test_failed_2.png"
                    data-background-size="contain"
            ></section>

            <section>
                <h3>–¢–µ—Å—Ç</h3>
                <pre class="js size-XS"><code data-trim>
it('should print letters one by one', done => {
    crawlLine('I don‚Äôt always bend time and ' +
        'space in unit tests, but when I do, ' +
        'I use Buster.JS + Sinon.JS', () => {
        assert.equal(process.stdout.write.callCount, 91);
        done();
    });
});
                </code></pre>
            </section>

            <section
                    data-background-video="images/crawlLine_test_failed_3.webm"
                    data-background-size="contain"
            ></section>

            <section>
                <h3>–¢–µ—Å—Ç</h3>
                <pre class="js size-XS"><code data-trim>
it('should print letters one by one', function (done) {
    this.timeout(30000);
    crawlLine('I don‚Äôt always bend time and ' +
        'space in unit tests, but when I do, ' +
        'I use Buster.JS + Sinon.JS', () => {
        assert.equal(process.stdout.write.callCount, 91);
        done();
    });
});
                </code></pre>
            </section>

            <section
                    data-background-video="images/crawlLine_test_failed_4.webm"
                    data-background-size="contain"
            ></section>

            <section>
                <h3>Faking time</h3>
                <pre class="js size-S"><code data-trim>
beforeEach(() => {
    clock = sinon.useFakeTimers();
});

afterEach(() => {
    clock.restore();
});
                </code></pre>
            </section>

            <section>
                <pre class="js size-XS"><code data-trim>
it('should print letters one by one', done => {
    crawlLine('I don‚Äôt always bend time and ' +
        'space in unit tests, but when I do, ' +
        'I use Buster.JS + Sinon.JS', () => {
        assert.equal(process.stdout.write.callCount, 91);
        done();
    });

    clock.tick(10000);
});
                </code></pre>
            </section>

            <section
                    data-background-image="images/crawlLine_test_success.png"
                    data-background-size="contain"
            ></section>
        </section>

        <section>
            <section>
                <h3>–û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ–µ –≤—Ä–µ–º—è</h3>
            </section>

            <section>
                <h3>–û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ–µ –≤—Ä–µ–º—è</h3>
                <pre class="js size-XS"><code data-trim data-noescape>
describe('formatDate', () => {
    let clock;

    beforeEach(() => {
        const startDate = <span class="grow">new Date(2018, 4, 15).getTime();</span>
        clock = sinon.useFakeTimers(startDate);
    });

    afterEach(() => {
        clock.restore();
    });

    /* ... */
});
                </code></pre>
            </section>

            <section>
                <h3>–û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ–µ –≤—Ä–µ–º—è</h3>
                <pre class="js size-XXS"><code data-trim data-noescape>
describe('formatDate', () => {
    /* ... */

    it('should return only time', () => {
        const tweetsDate = new Date(2018, 4, 15, 6, 17);
        const actual = formatDate(tweetsDate);

        assert.equal(actual, '06:17');
    });
});
                </code></pre>
            </section>
        </section>

        <section>
            <section>
                <h3>–†–∞–±–æ—Ç–∞ —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å—é</h3>
            </section>

            <section>
                <h3>–ó–∞–¥–∞—á–∞</h3>
                <blockquote>
                    –í—ã–≤–µ—Å—Ç–∏ –ø—Ä–æ–≥–Ω–æ–∑ –ø–æ–≥–æ–¥—ã –Ω–∞ –∫–æ–Ω—Å–æ–ª—å
                </blockquote>
            </section>

            <section
                    data-background-image="images/weather.jpg"
                    data-background-size="contain"
            >
                <h4 class="paranja" style="text-transform: none;"><code>curl http://wttr.in/ekaterinburg</code></h4>
            </section>

            <section
                    data-background-image="images/forecast.png"
                    data-background-size="contain"
            >
                <h4 class="paranja fragment" style="text-transform: none;"><code>https://api.weather.yandex.ru/v1/forecast</code>
                </h4>
            </section>

            <section>
                <h3>–†–µ—à–µ–Ω–∏–µ</h3>
                <pre class="js size-S"><code data-trim data-noescape>
const got = require('got');
const url = 'https://api.weather.yandex.ru' +
            '/v1/forecast';

function getFactTemp() {
    <span class="fragment">return got(url, { json: true })</span>
        <span class="fragment">.then(res => res.body.fact.temp);</span>
};
                </code></pre>
            </section>

            <section>
                <h3>–¢–µ—Å—Ç—ã</h3>
                <pre class="js size-XS"><code data-trim data-noescape>
describe('getFactTemp', () => {
    it('should get fact temperature', done => {
        <span class="fragment">getWeather()</span>
            <span class="fragment">.then(actual => assert.equal(actual, 2))</span>
            <span class="fragment">.then(done, done);</span>
    });
});
                </code></pre>
            </section>

            <section>
                <blockquote>
                    –ï—Å–ª–∏ –≤—ã–∑–≤–∞—Ç—å <code>done()</code> –±–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤,
                    —Ç–æ —Ç–µ—Å—Ç –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è —É—Å–ø–µ—à–Ω–æ. –ï—Å–ª–∏ –≤—ã–∑–≤–∞—Ç—å <code>done(error)</code>
                    —Å –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º, —Ç–æ —Ç–µ—Å—Ç –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è —Å –æ—à–∏–±–∫–æ–π.
                </blockquote>
            </section>

            <section>
                <h3>–¢–µ—Å—Ç—ã</h3>
                <pre class="js size-XS"><code data-trim data-noescape>
describe('getFactTemp', () => {
    it('should get fact temperature', <span class="fragment grow">()</span> => {
        <span class="fragment grow">return</span> getWeather()
            .then(actual => assert.equal(actual, 2));
    });
});
                </code></pre>
            </section>

            <section>
                <h3>–¢–µ—Å—Ç—ã</h3>
                <pre class="js size-XS"><code data-trim data-noescape>
describe('getFactTemp', () => {
    it('should get fact temperature', <span class="fragment grow">async</span> () => {
        const actual = <span class="fragment grow">await</span> getWeather();

        assert.equal(actual, 2);
    });
});
                </code></pre>
            </section>
        </section>

        <section>
            <section>
                <h3>–ü–æ–¥–º–µ–Ω–∞ —Å–µ—Ç–µ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤</h3>
            </section>

            <section>
                <h3>nock <span class="fragment">‚≠êÔ∏è 6190</span></h3>
                <pre class="js fragment console"><code data-trim>
npm install nock --save-dev
                </code></pre>
            </section>

            <section>
                <h3>–¢–µ—Å—Ç—ã</h3>
                <pre class="js size-XS"><code data-trim data-noescape>
describe('getFactTemp', () => {
    <span class="fragment">beforeEach(() => {
        nock('https://api.weather.yandex.ru')
            .get('/v1/forecast')
            .reply(200, { fact: { temp: 2 } });
    });</span>

    <span class="fragment">afterEach(() => {
        nock.cleanAll();
    });</span>

    /* ... */
});
                </code></pre>
            </section>

            <section>
                <blockquote>
                    –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –ø–æ —Å–µ—Ç–∏ –±—É–¥—É—Ç –ø–æ–¥–º–µ–Ω—è—Ç—å—Å—è –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º,
                    –æ–ø–∏—Å–∞–Ω–Ω—ã–º –≤ <code>nock()</code>.
                </blockquote>
            </section>
        </section>

        <section>
            <section>
                <h3>–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã</h3>
                <blockquote class="fragment" cite="https://habrahabr.ru/post/81226/">
                    —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—â–∏—Ö –º–æ–¥—É–ª–µ–π
                </blockquote>
            </section>

            <section>
                <h3>–û –≤–∞–∂–Ω–æ—Å—Ç–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤</h3>
                <img src="images/marsRover.jpg" alt="marsRover">
            </section>

            <section
                    data-background-image='images/pyramid.png'
                    data-background-size='contain'
                    data-background-color='#e7e8e9'>
            </section>

            <section>
                <h3>—Ç–µ—Å—Ç</h3>
                <pre class="js size-XXS"><code data-trim data-noescape>
it('should return `–ù–∏—á—å—è` for equal poker hand', () => {
    <span class="fragment fade-out">const getPokerHand = sinon.stub();
    getPokerHand.withArgs([1, 1, 2, 3, 4]).returns('–ü–∞—Ä–∞');
    getPokerHand.withArgs([1, 1, 2, 3, 5]).returns('–ü–∞—Ä–∞');
    getPokerHand.throws('Illegal arguments');

    const playPoker = proxyquire('../playPoker', {
        './getPokerHand': getPokerHand
    });</span>
    const actual = playPoker([1, 1, 2, 3, 4], [1, 1, 2, 3, 5]);

    assert.equal(actual, '–ù–∏—á—å—è');
});
        </code></pre>
            </section>

            <section>
                <h3>Weather</h3>
                <pre class="js size-XS"><code data-trim data-noescape>
describe('getFactTemp', () => {
    <span class="fragment fade-out">beforeEach(() => {
        nock('https://api.weather.yandex.ru')
            .get('/v1/forecast')
            .reply(200, { fact: { temp: 2 } });
    });

    afterEach(() => {
        nock.cleanAll();
    });</span>

    it('should get fact temperature', async () => {
        const actual = await getWeather();

        assert(<span class="fragment grow">Number.isInteger(actual)</span>);
    });
});
                </code></pre>
            </section>

            <section>
                <h3>–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</h3>
                <ul>
                    <li class="fragment">–ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ</li>
                    <li class="fragment">–ü–æ–∫—Ä—ã–≤–∞—Ç—å –≤—Å—é –ª–æ–≥–∏–∫—É –º–æ–¥—É–ª—å–Ω—ã–º–∏ —Ç–µ—Å—Ç–∞–º–∏</li>
                    <li class="fragment">–ü–∏—Å–∞—Ç—å –º–∏–Ω–∏–º—É–º –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤</li>
                </ul>
            </section>

            <section>
                <h3>–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã</h3>
                <p class="fragment pos">–ü–æ–ª–µ–∑–Ω—ã–µ</p>
                <p class="fragment neg">–ú–µ–¥–ª–µ–Ω–Ω—ã–µ</p>
                <p class="fragment neg">–ù–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã–µ</p>
            </section>
        </section>

        <section>
            <section>
                <h3>–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å</h3>
            </section>

            <section>
                <h3>–ó–∞–¥–∞—á–∞</h3>
                <blockquote>
                    –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–≤–æ–¥—è—Ç –∞–¥—Ä–µ—Å —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –ø–æ—á—Ç—ã –ø—Ä–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–∏ —Ñ–æ—Ä–º—ã.
                    –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –ø–æ–ª–µ–π —Ñ–æ—Ä–º—ã.
                </blockquote>
            </section>

            <section>
                <h3>–ü—Ä–∏–º–µ—Ä</h3>
                <iframe
                        src="./example/email/index.html"
                        frameborder="0"
                        width="500"
                        height="300"
                ></iframe>
            </section>

            <section>
                <h3>–†–µ—à–µ–Ω–∏–µ</h3>
                <pre class="js"><code data-trim>
&lt;input  id="email"
        type="email"
        placeholder="–í–∞—à email"
        required &gt;
                </code></pre>
            </section>
        </section>

        <section>
            <section>
                <h3>–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ HTML</h3>
            </section>

            <section>
                <h3>–†–µ—à–µ–Ω–∏–µ</h3>
                <pre class="html size-XS"><code>
&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
    &lt;head&gt;
        &lt;title&gt;Email&lt;/title&gt;
    &lt;/head&gt;

    &lt;body&gt;
        &lt;input  id="email"
                type="email"
                placeholder="–í–∞—à email"
                required&gt;
    &lt;/body&gt;
&lt;/html&gt;
                </code></pre>
            </section>

            <section>
                <h3>–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É</h3>
                <pre class="html fragment size-XS"><code data-trim>
&lt;head&gt;
    &lt;!-- –ø–æ–¥–∫–ª—é—á–∞–µ–º —Å—Ç–∏–ª–∏, —á—Ç–æ–±—ã —Ç–µ—Å—Ç—ã –≤—è–≥–ª—è–¥–µ–ª–∏ –∫—Ä–∞—Å–∏–≤–æ --&gt;
    &lt;link href=&quot;path/to/mocha.css&quot; rel=&quot;stylesheet&quot; /&gt;
&lt;/head&gt;
                </code></pre>
                <pre class="html fragment size-XS"><code data-trim>
&lt;body&gt;
    &lt;!-- –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —ç—Ç–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞
         –≤—ã–≤–æ–¥–∏—Ç—Å—è —Ç–µ—Å—Ç–æ–≤—ã–π –æ—Ç—á–µ—Ç --&gt;
    &lt;div id=&quot;mocha&quot;&gt;&lt;/div&gt;

    &lt;!-- –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º –∏ –∑–∞–ø—É—Å–∫–∞–µ–º —Ç–µ—Å—Ç—ã --&gt;
    &lt;script src=&quot;path/to/mocha.js&quot;&gt;&lt;/script&gt;
    &lt;script&gt;mocha.setup('bdd');
            mocha.run();&lt;/script&gt;
&lt;/body&gt;
                </code></pre>
            </section>

            <section>
                <h3 style="text-transform: none;"><code>path/to/mocha</code></h3>
                <pre class="none fragment size-XXS"><code data-trim>
"./node_modules/mocha/mocha.css"
"./node_modules/mocha/mocha.js"
                </code></pre>
                <pre class="none fragment size-XXS"><code data-trim>
"https://cdnjs.cloudflare.com/ajax/libs/mocha/5.1.0/mocha.css"
"https://cdnjs.cloudflare.com/ajax/libs/mocha/5.1.0/mocha.js"
                </code></pre>
            </section>

            <section>
                <h3>Assert?</h3>
                <pre class="js"><code>
const assert = require('assert');
                </code></pre>
                <div class="fragment" style="font-size: 100px">‚õî</div>
            </section>

            <section>
                <h3>chaijs <span class="fragment">‚≠êÔ∏è 5276</span></h3>
                <pre class="html fragment size-XS"><code data-trim>
&lt;script src=&quot;http://chaijs.com/chai.js&quot;&gt;&lt;/script&gt;
                </code></pre>
                <pre class="html fragment size-XS"><code data-trim>
&lt;script&gt;
    chai.assert.equal(1 + 1, 2);
&lt;/script&gt;
                </code></pre>
            </section>

            <section>
                <h3 style="text-transform: none;"><code>chai.expect</code></h3>
                <pre class="js"><code data-trim>
chai.expect(1 + 1).to.equal(2);
chai.expect(Boolean(1)).to.be.true;
                </code></pre>
            </section>

            <section>
                <h3 style="text-transform: none;"><code>chai.should</code></h3>
                <pre class="js fragment"><code data-trim>
chai.should();

[1, 2, 3].should.deep.equal([1, 2, 3]);
[1, 2, 3].should.have.length(3);
[1, 2, 3].should.be.an('array');
        </code></pre>
            </section>

            <section>
                <h3>–¢–µ—Å—Ç—ã</h3>
                <pre class="js size-XS"><code data-trim>
describe('email', () => {
    it('should success when input correct email', () => {
        const email = document.getElementById('email');

        email.value = 'ivan@example.com';

        chai.assert(email.checkValidity());
    });
});
                </code></pre>
            </section>

            <section>
                <h3>–ò—Ç–æ–≥</h3>
                <pre class="html size-XXS"><code data-noescape data-trim>
&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;title&gt;Email&lt;/title&gt;
    &lt;link href="node_modules/mocha/mocha.css" rel="stylesheet"/&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;input id="email" type="email" placeholder="–í–∞—à email" required&gt;

    &lt;div id="mocha"&gt;&lt;/div&gt;

    &lt;script src="node_modules/mocha/mocha.js"&gt;&lt;/script&gt;
    &lt;script src="node_modules/chai/chai.js"&gt;&lt;/script&gt;
    &lt;script&gt;
        mocha.setup('bdd');
        describe('Email', () =&gt; {
            it('should success when input correct email');
        });
        mocha.run();
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;

                </code></pre>
            </section>

            <section>
                <h3>–ó–∞–ø—É—Å–∫–∞–µ–º</h3>
                <iframe
                        src="./example/tests/email/index-test.html"
                        frameborder="0"
                        width="600"
                        height="600"
                ></iframe>
            </section>

            <section>
                <h3>–ü–ª—é—Å—ã</h3>
                <ul>
                    <li class="fragment">–ü—Ä–æ—Å—Ç–æ –ø–∏—Å–∞—Ç—å</li>
                    <li class="fragment">–ë—ã—Å—Ç—Ä–æ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è</li>
                    <li class="fragment">–ó–∞–ø—É—Å–∫–∞—é—Ç—Å—è –Ω–∞ –ª—é–±–æ–º —Ä–µ–∞–ª—å–Ω–æ–º –±—Ä–∞—É–∑–µ—Ä–µ</li>
                </ul>
            </section>

            <section>
                <h3>–ú–∏–Ω—É—Å—ã</h3>
                <ul>
                    <li class="fragment">–û—Ç–¥–µ–ª—å–Ω–∞—è —Å–±–æ—Ä–∫–∞ —Å —Ç–µ—Å—Ç–∞–º–∏</li>
                    <li class="fragment">–ü—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –∑–∞–ø—É—Å–∫–∞—Ç—å —Ä—É–∫–∞–º–∏</li>
                    <li class="fragment">–ù–µ–ª—å–∑—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—É—Å–∫</li>
                    <li class="fragment">–°–ª–æ–∂–Ω–æ —Å–æ–≤–µ—Ä—à–∞—Ç—å –¥–µ–π—Å—Ç–≤–∏—è</li>
                    <li class="fragment">–í —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã</li>
                </ul>
            </section>
        </section>

        <section>
            <section>
                <h3>–ó–∞–ø—É—Å–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏</h3>
            </section>

            <section
                    data-background-image="images/headless_chrome.png"
            ></section>

            <section>
                <img src="images/puppeteer.png" alt="puppeteer">
                <h3 class="fragment">puppeteer <span class="fragment">‚≠êÔ∏è 30444</span></h3>
            </section>

            <section>
                <h3>–ó–∞–ø—É—Å–∫–∞–µ–º</h3>
                <pre class="bash console size-XS"><code data-trim data-noescape>
npm i mocha-headless-chrome --save-dev

<span class="fragment">node_modules/.bin/mocha-headless-chrome
    -f path/to/test/file.html</span>

<span class="fragment">Email
    ‚úì should success when input correct email
    ‚úì should failed when input incorrect email


  2 passing (22ms)</span>
                </code></pre>
            </section>

            <section>
                <h3>–ü–ª—é—Å—ã</h3>
                <ul>
                    <li class="fragment">–ü—Ä–æ—Å—Ç–æ –ø–∏—Å–∞—Ç—å</li>
                    <li class="fragment">–ë—ã—Å—Ç—Ä–æ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è</li>
                    <li class="fragment">–ó–∞–ø—É—Å–∫ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–µ—Ç—Å—è</li>
                </ul>
            </section>

            <section>
                <h3>–ú–∏–Ω—É—Å—ã</h3>
                <ul>
                    <li class="fragment">–û—Ç–¥–µ–ª—å–Ω–∞—è —Å–±–æ—Ä–∫–∞ —Å —Ç–µ—Å—Ç–∞–º–∏</li>
                    <li class="fragment">–ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ –æ–¥–Ω–æ–º –±—Ä–∞—É–∑–µ—Ä–µ</li>
                    <li class="fragment">–°–ª–æ–∂–Ω–æ —Å–æ–≤–µ—Ä—à–∞—Ç—å –¥–µ–π—Å—Ç–≤–∏—è</li>
                    <li class="fragment">–í —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã</li>
                </ul>
            </section>
        </section>

        <section>
            <h3>–ü–æ—á–∏—Ç–∞—Ç—å</h3>
            <ul>
                <li><a href="http://sinonjs.org/">sinon.js</a></li>
                <li><a href="https://www.npmjs.com/package/got">got</a></li>
                <li><a href="https://www.npmjs.com/package/nock">nock</a></li>
                <li><a href="http://chaijs.com/">chaijs</a></li>
                <li><a href="https://medium.com/devschacht/phantomjs-is-over-df065e5b23bf">PhantomJS –≤—Å—ë?</a></li>
                <li><a href="https://developers.google.com/web/updates/2017/04/headless-chrome">Getting Started with
                    Headless Chrome</a></li>
                <li><a href="https://chromium.googlesource.com/chromium/src/+/lkgr/headless/README.md">Headless
                    Chromium</a></li>
                <li><a href="https://habrahabr.ru/post/81226/">–í–∏–¥—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –ø–æ–¥—Ö–æ–¥—ã –∫ –∏—Ö –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—é</a></li>
            </ul>
        </section>

        <section>
            <h3><a href="https://github.com/urfu-2017/autotests-task-03">–ó–∞–¥–∞—á–∞ ¬´–ö—Ä–µ—Å—Ç–∏–∫–∏-–Ω–æ–ª–∏–∫–∏¬ª</a></h3>
        </section>
    </div>
</div>

<script src="../js/head.min.js"></script>
<script src="../js/reveal.js"></script>
<script>
    Reveal.initialize({
        controls: false,
        slideNumber: true,
        history: true,
        dependencies: [
            {
                src: '../js/highlight.js',
                async: true,
                condition: function () {
                    return Boolean(document.querySelector('pre code'));
                },
                callback: function () {
                    hljs.initHighlightingOnLoad();
                }
            }
        ]
    });
</script>
</body>
</html>
